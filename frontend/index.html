<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashy</title>


    <link rel="stylesheet" href="./assets/vendor/materialcss/materialize-1.0.0.min.css" />
    <link rel="stylesheet" href="./assets/vendor/materialicons/materialicons.css" />
    <link rel="stylesheet" href="./assets/css/main.css" />
</head>
<body>

<!-- NAVIGATION BAR -->
<nav>
    <div class="nav-wrapper teal py-2">
        <a href="#!" class="brand-logo">Dashy</a>
        <ul class="right hide-on-med-and-down">
            <li><a href="#" class="dropdown-trigger" data-target='dropdown1'><i class="material-icons">more_vert</i></a></li>
        </ul>
    </div>
</nav>
<!-- /END NAVIGATION BAR -->

<!-- MENU DROPDOWN -->
<ul id='dropdown1' class='dropdown-content'>
    <li><a href="#!" id="credentials">Credentials</a></li>
    <li><a href="#!" id="logout">Logout</a></li>
</ul>
<!-- /END MENU DROPDOWN -->

<!-- CONTAINER -->
<main>
    <div class="container">
        <div class="row mt-4">

            <!-- LINE CHART -->
            <div class="col s12 m6">
                <h5>Outreach</h5>
                <div class="card-panel grey lighten-4" style="height: 350px;">
                    <canvas id="sampleChart"></canvas>
                </div>
            </div>
            <!-- /END LINE CHART -->

            <!-- LOCAL CHAPTERS MAP -->
            <div class="col s12 m6">
                <h5>Local Chapters</h5>
                <div class="card-panel grey lighten-4" style="height: 350px;">
                    <canvas id="lc-map"></canvas>
                </div>
            </div>
            <!-- /END LOCAL CHAPTERS MAP -->

        </div>
    </div>
</main>
<!-- /END CONTAINER -->

<!-- DEPENDENCIES -->
<script src="./assets/vendor/chartjs/chart.bundle.2.7.3.min.js"></script>
<script src="./assets/vendor/jquery/jquery-3.3.1.min.js"></script>
<script src="./assets/vendor/materialcss/materialize-1.0.0.min.js"></script>
<!-- /END DEPENDENCIES -->

<!-- INITIALIZE FUNCTIONS -->
<script src="./assets/js/init.js"></script>
<script src="./assets/js/functions.js"></script>
<!-- /END INITIALIZE FUNCTIONS -->

<script>

    // initialize vars
    var baseURL = 'http://localhost:8000';

    var ctx = document.getElementById("sampleChart").getContext('2d');
    var data = {
        labels: [],
        datasets: []
    };
    var options =  {
        responsive: true,
        title: {
            display: false
        },
        tooltips: {
            mode: 'index',
            intersect: false,
        },
        hover: {
            mode: 'nearest',
            intersect: true
        },
        elements: {
            line: {
                tension: 0, // disables bezier curves
            }
        }
        /*
        scales: {
            xAxes: [{
                display: true,
                scaleLabel: {
                    display: true,
                    labelString: 'Month'
                }
            }],
            yAxes: [{
                display: true,
                scaleLabel: {
                    display: true,
                    labelString: 'Value'
                }
            }]
        }
        */
    };

    var lineChart = new Chart(ctx, {
        type: 'line',
        data: data,
        options: options
    });

    $.get(baseURL + '/timeline')
        .done(function (response) {
            lineChart.data.labels = response.data;
        });

    $.get(baseURL + '/facebook')
        .done(function (response) {
            addDataSet(lineChart, response.data, 'Facebook', '#0e1f56')
        });

    $.get(baseURL + '/twitter')
        .done(function (response) {
            addDataSet(lineChart, response.data, 'Twitter', '#55acee');
        });

    // YOUR CODE GOES BETWEEN THIS COMMENTS
    $.get(baseURL + '/mailchimp')
        .done(function (response) {
            addDataSet(lineChart, response.data, 'Mailchimp', '#FFA500');
        });

    // YOUR CODE GOES BETWEEN THIS COMMENTS


</script>
</body>
</html>